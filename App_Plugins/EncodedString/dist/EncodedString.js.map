{"version":3,"file":"EncodedString.js","sources":["../src/string-encoding-property-editor-ui.element.ts"],"sourcesContent":["import { LitElement, html, customElement, property, css } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { UmbPropertyEditorUiElement } from \"@umbraco-cms/backoffice/extension-registry\";\r\nimport { UmbPropertyValueChangeEvent } from \"@umbraco-cms/backoffice/property-editor\";\r\n\r\n@customElement('string-encoding-property-editor-ui')\r\nexport default class StringEncodingPropertyEditorUIElement extends LitElement implements UmbPropertyEditorUiElement {\r\n    @property({ type: String })\r\n    public value = \"\";\r\n\r\n    @property({ type: String })\r\n    public displayValue = \"\";\r\n\r\n    #onInput(e: InputEvent) {\r\n        e.stopPropagation();\r\n        const target = e.target as HTMLInputElement;\r\n        this.displayValue = target.value as string;\r\n        this.#dispatchChangeEvent();\r\n    }\r\n\r\n    #dispatchChangeEvent() {\r\n        this.value = btoa(this.displayValue);\r\n        \r\n        this.dispatchEvent(new UmbPropertyValueChangeEvent());\r\n    }\r\n\r\n    async firstUpdated(changed: any) {\r\n        super.firstUpdated(changed)\r\n        this.displayValue = atob(this.value || '');\r\n    }\r\n\r\n    render() {\r\n        return html`\r\n            <uui-input\r\n                class=\"element\"\r\n                .value=${this.displayValue || \"\"}\r\n                @input=${this.#onInput}\r\n            >\r\n            </uui-input>\r\n            `;\r\n    }\r\n\r\n    static styles = [\r\n        css`\r\n            .element {\r\n              width: 100%;\r\n            }\r\n          `,\r\n        ];\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'string-encoding-property-editor-ui': StringEncodingPropertyEditorUIElement;\r\n    }\r\n}"],"names":["_StringEncodingPropertyEditorUIElement_instances","onInput_fn","dispatchChangeEvent_fn","StringEncodingPropertyEditorUIElement","LitElement","__privateAdd","changed","html","__privateMethod","e","target","UmbPropertyValueChangeEvent","css","__decorateClass","property","customElement"],"mappings":";;;;;;;;8OAAAA,GAAAC,GAAAC;AAKqB,IAAAC,IAArB,cAAmEC,EAAiD;AAAA,EAApH,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAL,CAAA,GAEI,KAAO,QAAQ,IAGf,KAAO,eAAe;AAAA,EAAA;AAAA,EAetB,MAAM,aAAaM,GAAc;AAC7B,UAAM,aAAaA,CAAO,GAC1B,KAAK,eAAe,KAAK,KAAK,SAAS,EAAE;AAAA,EAC7C;AAAA,EAEA,SAAS;AACE,WAAAC;AAAA;AAAA;AAAA,yBAGU,KAAK,gBAAgB,EAAE;AAAA,yBACvBC,QAAKR,GAAQC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAIlC;AASJ;AA3CAD,IAAA,oBAAA,QAAA;AAOIC,IAAQ,SAACQ,GAAe;AACpB,EAAAA,EAAE,gBAAgB;AAClB,QAAMC,IAASD,EAAE;AACjB,OAAK,eAAeC,EAAO,OAC3BF,EAAA,MAAKR,GAALE,CAAA,EAAA,KAAA,IAAA;AACJ;AAEAA,IAAoB,WAAG;AACd,OAAA,QAAQ,KAAK,KAAK,YAAY,GAE9B,KAAA,cAAc,IAAIS,EAAA,CAA6B;AACxD;AAlBiBR,EAoCV,SAAS;AAAA,EACZS;AAAA;AAAA;AAAA;AAAA;AAKA;AAxCGC,EAAA;AAAA,EADNC,EAAS,EAAE,MAAM,QAAQ;AAAA,GADTX,EAEV,WAAA,SAAA,CAAA;AAGAU,EAAA;AAAA,EADNC,EAAS,EAAE,MAAM,QAAQ;AAAA,GAJTX,EAKV,WAAA,gBAAA,CAAA;AALUA,IAArBU,EAAA;AAAA,EADCE,EAAc,oCAAoC;AAAA,GAC9BZ,CAAA;"}